<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Phaser Tutorial</title>
    <script type="text/javascript" src="phaser/phaser.min.js"></script>

    <style type="text/css">
        body { margin: 0; }
        canvas { margin: auto; }
    </style>
</head>
<body>
    <script type="text/javascript">
        var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });

function preload() {

    game.load.image('box', 'block.png');
    game.load.image('platform', 'platform.png');

}

var group;
var box1

function create() {

    //  A platform the boxes will 'rise' out of
    var platform = game.add.sprite(0, game.world.centerY, 'platform');
    platform.width = game.width;
    platform.height = 8;

    group = game.add.group();
    //  Box sprite is 95x95
    box1 = group.create(200, 300, 'box');
    var box2 = group.create(400, 300, 'box');
    var box3 = group.create(600, 300, 'box');

    group.setAll('anchor.x', 0.5);
    group.setAll('anchor.y', 0.5);

    // //  A mask is a Graphics object
    var maski = game.add.graphics(0, 100);

    // //  Shapes drawn to the Graphics object must be filled.
    maski.beginFill(0xffffff);

    // //  Here we'll draw a rectangle for each group sprite
    maski.drawRect(130, 0, 140, 200);
    maski.drawRect(330, 0, 140, 200);
    maski.drawRect(530, 0, 140, 200);

    // //  And apply it to the Group itself
    group.mask = maski;

    game.add.tween(box1).to({ y: 200 }, 1000, "Sine.easeInOut", true, 0, 0, true);
    game.add.tween(box1).to({ x: 232 }, 3000, "Sine.easeInOut", true, 0, 0, true);
    // game.add.tween(box2).to({ y: 200 }, 1000, "Sine.easeInOut", true, 500, -1, true);
    // game.add.tween(box2).to({ x: 232 }, 3000, "Sine.easeInOut", true, 500, -1, true);
    // game.add.tween(box3).to({ y: 200 }, 1000, "Sine.easeInOut", true, 1000, -1, true);
    // game.add.tween(box3).to({ x: 232 }, 3000, "Sine.easeInOut", true, 1000, -1, true);

    cursors = this.game.input.keyboard.createCursorKeys();
}

function update() {

    group.forEach(function(box) {
        box.rotation += 0.04;
    });

    if (cursors.up.isDown) {
        game.add.tween(box1).to({ y: 200 }, 1000, "Sine.easeInOut", true, 0, 0, true);
    }

}
    </script>
</body>
</html>